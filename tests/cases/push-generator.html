      <style>
        
      </style>
      <script src="/cases/common.js"></script>
      <script src="/cases/push-generator.js"></script>
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          var requirementsElement = document.getElementById('requirements'),
              element = document.getElementById('test-case');

          var generator = new PushGenerator(requirementsElement, element);
          generator.deserialize(document.location.hash);
          generator.setFields({
            // Subscription settings
            authentication: ['authentication', GeneratorBase.FIELD_TYPE_STRING],
            source: ['source', GeneratorBase.FIELD_TYPE_STRING],
            userVisibleOnly: ['userVisibleOnly', GeneratorBase.FIELD_TYPE_BOOL]
          });

          generator.setActionElements(
              /* unsubscribe */ document.getElementById('action-unsubscribe'),
              /* subscribe */   document.getElementById('action-subscribe'),
              /* display */     document.getElementById('action-display'));

          generator.registerServiceWorker(location.pathname);
          generator.requestPermission();
        });
      </script>
      <div id="test-case" class="test-case">
        <ul id="requirements" class="requirements">
          <li>Unable to execute the JavaScript code.</li>
        </ul>

        <h2>Subscription settings</h2>
        <ol>
          <li>
            <label for="authentication">Authentication</label>
            <select id="authentication">
              <option data-id="0" value="manifest">gcm_sender_id in the manifest</option>
              <option data-id="1" value="public_key">public key in PushManager.subscribe()</option>
              <option data-id="2" value="none">None</option>
            </select>
          </li>
          <li>
            <label for="source">Source</label>
            <select id="source">
              <option data-id="0" value="document">From the document</option>
              <option data-id="1" value="sw">From the Service Worker</option>
            </select>
          </li>
          <li>
            <label for="userVisibleOnly">userVisibleOnly</label>
            <input type="checkbox" id="userVisibleOnly" checked />
          </li>
        </ol>

        <p>
          <button id="action-unsubscribe">Unsubscribe</button>
          <button id="action-subscribe">Subscribe</button> â€”
          <button id="action-display">Display subscription</button>
        </p>
<!--
        <h2>Message settings</h2>

        <p>
          <button id="action-reset">Reset</button>
          <button id="action-display">Send the push message</button>
        </p>
-->
      </div>
      <div id="subscription-info-dialog" class="dialog-content">
        <h2>Subscription information</h2>
        <p><strong>Endpoint</strong>: <span id="endpoint">[unknown]</span></p>
        <p><strong>p256dh</strong>: <span id="p256dh">[unknown]</span></p>
        <p><strong>auth</strong>: <span id="auth">[unknown]</span></p>
      </div>
